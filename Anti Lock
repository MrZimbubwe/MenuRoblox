-- ğŸ©¸ Xero Hub V0.4 - à¸£à¸§à¸¡ AntiLock, AntiDrop, SilentAim, AutoFire, Wallbang

-- à¸¥à¸š GUI à¹€à¸à¹ˆà¸²à¸–à¹‰à¸²à¸¡à¸µ
pcall(function() game.CoreGui:FindFirstChild("XeroHub_GUI"):Destroy() end)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local lp = Players.LocalPlayer
local mouse = lp:GetMouse()

-- RemoteEvent à¸Šà¸·à¹ˆà¸­à¸¢à¸´à¸‡à¸à¸£à¸°à¸ªà¸¸à¸™à¹ƒà¸™à¹€à¸à¸¡ (à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸•à¸£à¸‡à¹€à¸à¸¡)
local shootEvent = ReplicatedStorage:WaitForChild("ShootEvent")

-- à¸•à¸±à¸§à¹à¸›à¸£à¸ªà¸–à¸²à¸™à¸°à¸«à¸¥à¸±à¸
getgenv().AntiLockEnabled = false
getgenv().AntiDropEnabled = false
getgenv().SilentAimEnabled = false
getgenv().AutoFireEnabled = false
getgenv().WallbangEnabled = false

-- à¸„à¹ˆà¸²à¸„à¸‡à¸—à¸µà¹ˆà¸•à¹ˆà¸²à¸‡à¹†
local headHeightOffset = Vector3.new(0, 1.5, 0)
local jitterMagnitude = 0.03
local tweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

local safePosition = Vector3.new(-1000, 500, -1000) -- à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¸ªà¸³à¸«à¸£à¸±à¸šà¸§à¸²à¸›à¸«à¸™à¸µ

local currentTween = nil

-- à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹€à¸„à¸¥à¸·à¹ˆà¸­à¸™à¸—à¸µà¹ˆà¸«à¸±à¸§à¹à¸šà¸šà¸™à¸¸à¹ˆà¸¡à¸™à¸§à¸¥ (Anti-Lock)
local function smoothMoveHead(head, targetPos)
    if currentTween then
        currentTween:Cancel()
        currentTween = nil
    end
    local goal = {}
    goal.CFrame = CFrame.new(targetPos) * (head.CFrame - head.CFrame.p)
    currentTween = TweenService:Create(head, tweenInfo, goal)
    currentTween:Play()
end

-- à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸à¸±à¸™à¸•à¸²à¸¢ (Anti-Drop)
local function preventDrop()
    local char = lp.Character
    if not char then return end
    local hum = char:FindFirstChildOfClass("Humanoid")
    local hrp = char:FindFirstChild("HumanoidRootPart")
    if not hum or not hrp then return end

    hum:GetPropertyChangedSignal("Health"):Connect(function()
        if getgenv().AntiDropEnabled and hum.Health > 0 and hum.Health < 20 then
            -- à¸§à¸²à¸›à¸«à¸™à¸µà¹„à¸›à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
            hrp.CFrame = CFrame.new(safePosition)
            wait(0.3)
            -- à¸†à¹ˆà¸²à¸•à¸±à¸§à¸•à¸²à¸¢à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¹ƒà¸«à¹‰à¸‚à¸­à¸‡à¸•à¸
            hum.Health = 0
        end
    end)
end

-- à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸„à¸³à¸™à¸§à¸“à¸§à¹ˆà¸²à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ FOV à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ (Silent Aim)
local function isInFOV(targetPos, fovRadius)
    local camera = workspace.CurrentCamera
    local screenPos, onScreen = camera:WorldToScreenPoint(targetPos)
    if not onScreen then return false end
    local mousePos = Vector2.new(mouse.X, mouse.Y)
    local dist = (Vector2.new(screenPos.X, screenPos.Y) - mousePos).Magnitude
    return dist <= fovRadius
end

-- à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ Raycast à¸¢à¸´à¸‡à¸—à¸°à¸¥à¸¸ (Wallbang à¹à¸šà¸š Hermanos)
local maxDistance = 3000

local function raycastWallbang(origin, direction, ignoreList)
    local ignoreList = ignoreList or {}
    local raycastParams = RaycastParams.new()
    raycastParams.FilterDescendantsInstances = ignoreList
    raycastParams.FilterType = Enum.RaycastFilterType.Blacklist
    raycastParams.IgnoreWater = true

    local currentOrigin = origin
    local totalDistance = 0
    local maxPierce = 3 -- à¸ˆà¸³à¸™à¸§à¸™à¸Šà¸±à¹‰à¸™à¸—à¸°à¸¥à¸¸à¹„à¸”à¹‰
    local hits = {}

    for i = 1, maxPierce do
        local rayResult = workspace:Raycast(currentOrigin, direction * (maxDistance - totalDistance), raycastParams)
        if rayResult then
            table.insert(hits, rayResult)
            totalDistance = totalDistance + (rayResult.Position - currentOrigin).Magnitude
            currentOrigin = rayResult.Position + direction.Unit * 0.1 -- à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸‚à¹‰à¸²à¸¡à¸Šà¸´à¹‰à¸™à¸ªà¹ˆà¸§à¸™

            table.insert(ignoreList, rayResult.Instance)
            raycastParams.FilterDescendantsInstances = ignoreList
        else
            break
        end
    end
    return hits
end

-- à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸¢à¸´à¸‡à¸à¸£à¸°à¸ªà¸¸à¸™à¸ˆà¸£à¸´à¸‡
local function fireBullet(targetPos)
    local char = lp.Character
    if not char then return end
    local hrp = char:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    local origin = hrp.Position
    local direction = (targetPos - origin).Unit * maxDistance

    local ignoreList = {char}

    local hits = {}
    if getgenv().WallbangEnabled then
        hits = raycastWallbang(origin, direction, ignoreList)
    else
        local raycastParams = RaycastParams.new()
        raycastParams.FilterDescendantsInstances = ignoreList
        raycastParams.FilterType = Enum.RaycastFilterType.Blacklist
        raycastParams.IgnoreWater = true

        local result = workspace:Raycast(origin, direction, raycastParams)
        if result then
            table.insert(hits, result)
        end
    end

    -- à¸¢à¸´à¸‡à¹ƒà¸ªà¹ˆà¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸—à¸µà¹ˆà¹€à¸ˆà¸­ (à¸—à¸°à¸¥à¸¸à¸à¸³à¹à¸à¸‡à¹„à¸”à¹‰à¸–à¹‰à¸²à¹€à¸›à¸´à¸” Wallbang)
    for _, hit in ipairs(hits) do
        local hitPos = hit.Position

        -- à¹€à¸à¸´à¹ˆà¸¡à¸”à¸²à¹€à¸¡à¸ˆà¸–à¹‰à¸²à¹€à¸›à¸´à¸” Silent Aim à¹à¸¥à¸°à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ FOV
        if getgenv().SilentAimEnabled then
            if isInFOV(hitPos, 150) then
                -- à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡: à¹€à¸à¸´à¹ˆà¸¡à¸”à¸²à¹€à¸¡à¸ˆ (à¸‚à¸¶à¹‰à¸™à¸­à¸¢à¸¹à¹ˆà¸à¸±à¸šà¹€à¸à¸¡ à¸•à¹‰à¸­à¸‡à¹à¸à¹‰à¸—à¸µà¹ˆà¹€à¸‹à¸´à¸£à¹Œà¸Ÿà¹€à¸§à¸­à¸£à¹Œà¸”à¹‰à¸§à¸¢)
                -- à¸ªà¸¡à¸¡à¸•à¸´à¸ªà¹ˆà¸‡ flag à¹€à¸à¸´à¹ˆà¸¡à¸”à¸²à¹€à¸¡à¸ˆà¹„à¸”à¹‰
                shootEvent:FireServer(hitPos, true) -- true = à¹€à¸à¸´à¹ˆà¸¡à¸”à¸²à¹€à¸¡à¸ˆ
            else
                shootEvent:FireServer(hitPos, false)
            end
        else
            shootEvent:FireServer(hitPos, false)
        end
    end
end

-- à¸•à¸±à¸§à¹à¸›à¸£à¸¢à¸´à¸‡à¸£à¸±à¸§
local autoFireDelay = 0.1 -- à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸„à¸§à¸²à¸¡à¹€à¸£à¹‡à¸§à¸¢à¸´à¸‡ (à¸§à¸´à¸™à¸²à¸—à¸µ)
local autoFireConnection = nil

-- à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹€à¸£à¸´à¹ˆà¸¡à¸¢à¸´à¸‡à¸£à¸±à¸§
local function startAutoFire()
    if autoFireConnection then return end
    autoFireConnection = RunService.Heartbeat:Connect(function(dt)
        if getgenv().AutoFireEnabled and lp.Character and mouse.Target then
            fireBullet(mouse.Hit.p)
            wait(autoFireDelay)
        end
    end)
end

-- à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸«à¸¢à¸¸à¸”à¸¢à¸´à¸‡à¸£à¸±à¸§
local function stopAutoFire()
    if autoFireConnection then
        autoFireConnection:Disconnect()
        autoFireConnection = nil
    end
end

-- à¹€à¸¡à¸·à¹ˆà¸­à¸à¸”à¹€à¸¡à¸²à¸ªà¹Œ à¹€à¸£à¸´à¹ˆà¸¡à¸¢à¸´à¸‡à¸£à¸±à¸§ (à¸–à¹‰à¸²à¹€à¸›à¸´à¸” AutoFire)
mouse.Button1Down:Connect(function()
    if getgenv().AutoFireEnabled then
        startAutoFire()
    end
end)

-- à¹€à¸¡à¸·à¹ˆà¸­à¸›à¸¥à¹ˆà¸­à¸¢à¹€à¸¡à¸²à¸ªà¹Œ à¸«à¸¢à¸¸à¸”à¸¢à¸´à¸‡à¸£à¸±à¸§
mouse.Button1Up:Connect(function()
    stopAutoFire()
end)

-- à¸ªà¸£à¹‰à¸²à¸‡ GUI
local gui = Instance.new("ScreenGui", game:GetService("CoreGui"))
gui.Name = "XeroHub_GUI"

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 300, 0, 380)
frame.Position = UDim2.new(0.02, 0, 0.2, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 40)
title.Text = "ğŸ©¸ Xero Hub V0.4"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.BackgroundTransparency = 1

-- Anti-Lock UI
local antiLockTitle = Instance.new("TextLabel", frame)
antiLockTitle.Position = UDim2.new(0, 0, 0, 40)
antiLockTitle.Size = UDim2.new(1, 0, 0, 25)
antiLockTitle.Text = "ğŸ›¡ Anti-Lock: OFF"
antiLockTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
antiLockTitle.Font = Enum.Font.GothamBold
antiLockTitle.TextSize = 16
antiLockTitle.BackgroundTransparency = 1

local toggleAntiLock = Instance.new("TextButton", frame)
toggleAntiLock.Position = UDim2.new(0.05, 0, 0, 65)
toggleAntiLock.Size = UDim2.new(0.9, 0, 0, 30)
toggleAntiLock.Text = "ğŸ”˜ Toggle Anti-Lock"
toggleAntiLock.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
toggleAntiLock.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleAntiLock.Font = Enum.Font.Gotham
toggleAntiLock.TextSize = 14

-- Anti-Drop UI
local antiDropTitle = Instance.new("TextLabel", frame)
antiDropTitle.Position = UDim2.new(0, 0, 0, 100)
antiDropTitle.Size = UDim2.new(1, 0, 0, 25)
antiDropTitle.Text = "ğŸ§³ Anti-Drop: OFF"
antiDropTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
antiDropTitle.Font = Enum.Font.GothamBold
antiDropTitle.TextSize = 16
antiDropTitle.BackgroundTransparency = 1

local toggleAntiDrop = Instance.new("TextButton", frame)
toggleAntiDrop.Position = UDim2.new(0.05, 0, 0, 125)
toggleAntiDrop.Size = UDim2.new(0.9, 0, 0, 30)
toggleAntiDrop.Text = "ğŸ”˜ Toggle Anti-Drop"
toggleAntiDrop.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
toggleAntiDrop.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleAntiDrop.Font = Enum.Font.Gotham
toggleAntiDrop.TextSize = 14

-- Silent Aim UI
local silentAimTitle = Instance.new("TextLabel", frame)
silentAimTitle.Position = UDim2.new(0, 0, 0, 160)
silentAimTitle.Size = UDim2.new(1, 0, 0, 25)
silentAimTitle.Text = "ğŸ¯ Silent Aim: OFF"
silentAimTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
silentAimTitle.Font = Enum.Font.GothamBold
silentAimTitle.TextSize = 16
silentAimTitle.BackgroundTransparency = 1

local toggleSilentAim = Instance.new("TextButton", frame)
toggleSilentAim.Position = UDim2.new(0.05, 0, 0, 185)
toggleSilentAim.Size = UDim2.new(0.9, 0, 0, 30)
toggleSilentAim.Text = "ğŸ”˜ Toggle Silent Aim"
toggleSilentAim.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
toggleSilentAim.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleSilentAim.Font = Enum.Font.Gotham
toggleSilentAim.TextSize = 14

-- Auto Fire UI
local autoFireTitle = Instance.new("TextLabel", frame)
autoFireTitle.Position = UDim2.new(0, 0, 0, 220)
autoFireTitle.Size = UDim2.new(1, 0, 0, 25)
autoFireTitle.Text = "ğŸ”¥ Auto Fire: OFF"
autoFireTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
autoFireTitle.Font = Enum.Font.GothamBold
autoFireTitle.TextSize = 16
autoFireTitle.BackgroundTransparency = 1

local toggleAutoFire = Instance.new("TextButton", frame)
toggleAutoFire.Position = UDim2.new(0.05, 0, 0, 245)
toggleAutoFire.Size = UDim2.new(0.9, 0, 0, 30)
toggleAutoFire.Text = "ğŸ”˜ Toggle Auto Fire"
toggleAutoFire.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
toggleAutoFire.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleAutoFire.Font = Enum.Font.Gotham
toggleAutoFire.TextSize = 14

-- Auto Fire Speed Slider
local speedLabel = Instance.new("TextLabel", frame)
speedLabel.Position = UDim2.new(0.05, 0, 0, 280)
speedLabel.Size = UDim2.new(0.9, 0, 0, 25)
speedLabel.Text = "â±ï¸ Fire Speed: 0.1 s"
speedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
speedLabel.Font = Enum.Font.Gotham
speedLabel.TextSize = 14
speedLabel.BackgroundTransparency = 1

local speedSlider = Instance.new("TextBox", frame)
speedSlider.Position = UDim2.new(0.05, 0, 0, 310)
speedSlider.Size = UDim2.new(0.9, 0, 0, 25)
speedSlider.Text = tostring(autoFireDelay)
speedSlider.ClearTextOnFocus = false
speedSlider.TextColor3 = Color3.fromRGB(0, 0, 0)
speedSlider.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
speedSlider.Font = Enum.Font.Gotham
speedSlider.TextSize = 14

speedSlider.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local val = tonumber(speedSlider.Text)
        if val and val >= 0.01 and val <= 1 then
            autoFireDelay = val
            speedLabel.Text = "â±ï¸ Fire Speed: ".. tostring(autoFireDelay) .. " s"
        else
            speedSlider.Text = tostring(autoFireDelay)
        end
    end
end)

-- Wallbang UI
local wallbangTitle = Instance.new("TextLabel", frame)
wallbangTitle.Position = UDim2.new(0, 0, 0, 345)
wallbangTitle.Size = UDim2.new(1, 0, 0, 25)
wallbangTitle.Text = "ğŸ’¥ Wallbang: OFF"
wallbangTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
wallbangTitle.Font = Enum.Font.GothamBold
wallbangTitle.TextSize = 16
wallbangTitle.BackgroundTransparency = 1

local toggleWallbang = Instance.new("TextButton", frame)
toggleWallbang.Position = UDim2.new(0.05, 0, 0, 370)
toggleWallbang.Size = UDim2.new(0.9, 0, 0, 30)
toggleWallbang.Text = "ğŸ”˜ Toggle Wallbang"
toggleWallbang.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
toggleWallbang.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleWallbang.Font = Enum.Font.Gotham
toggleWallbang.TextSize = 14

-- à¸›à¸¸à¹ˆà¸¡ Toggle Event

toggleAntiLock.MouseButton1Click:Connect(function()
    getgenv().AntiLockEnabled = not getgenv().AntiLockEnabled
    if getgenv().AntiLockEnabled then
        antiLockTitle.Text = "ğŸ›¡ Anti-Lock: ON"
        toggleAntiLock.BackgroundColor3 = Color3.fromRGB(60, 180, 75)
    else
        antiLockTitle.Text = "ğŸ›¡ Anti-Lock: OFF"
        toggleAntiLock.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
    end
end)

toggleAntiDrop.MouseButton1Click:Connect(function()
    getgenv().AntiDropEnabled = not getgenv().AntiDropEnabled
    if getgenv().AntiDropEnabled then
        antiDropTitle.Text = "ğŸ§³ Anti-Drop: ON"
        toggleAntiDrop.BackgroundColor3 = Color3.fromRGB(60, 180, 75)
        if lp.Character then preventDrop() end
        lp.CharacterAdded:Connect(function()
            wait(1)
            if getgenv().AntiDropEnabled then
                preventDrop()
            end
        end)
    else
        antiDropTitle.Text = "ğŸ§³ Anti-Drop: OFF"
        toggleAntiDrop.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
    end
end)

toggleSilentAim.MouseButton1Click:Connect(function()
    getgenv().SilentAimEnabled = not getgenv().SilentAimEnabled
    if getgenv().SilentAimEnabled then
        silentAimTitle.Text = "ğŸ¯ Silent Aim: ON"
        toggleSilentAim.BackgroundColor3 = Color3.fromRGB(60, 180, 75)
    else
        silentAimTitle.Text = "ğŸ¯ Silent Aim: OFF"
        toggleSilentAim.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
    end
end)

toggleAutoFire.MouseButton1Click:Connect(function()
    getgenv().AutoFireEnabled = not getgenv().AutoFireEnabled
    if getgenv().AutoFireEnabled then
        autoFireTitle.Text = "ğŸ”¥ Auto Fire: ON"
        toggleAutoFire.BackgroundColor3 = Color3.fromRGB(60, 180, 75)
        startAutoFire()
    else
        autoFireTitle.Text = "ğŸ”¥ Auto Fire: OFF"
        toggleAutoFire.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
